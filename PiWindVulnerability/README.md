<img src="https://oasislmf.org/packages/oasis_theme_package/themes/oasis_theme/assets/src/oasis-lmf-colour.png" alt="Oasis LMF logo" width="250"/>

# Oasis PiWind Vulnerability Adjustments

The `vulnerability_adjustments` key in the analysis_settings allows the user to intervene on specific vulnerabilities without having to replace the whole vulnerability file. There are 3 potential entries in the field:

- `vulnerability_adjustments: {
      "replace_file": {}
   }`

    through which the user provides a file containing updated data on a number of specific vulnerabilities.
    For example:
    "vulnerability_adjustments": {"replace_file" : "vulnerability_adjustments.csv"}

    For an example of the file contents, see this [example](https://github.com/OasisLMF/OasisModels/blob/develop/PiWindVulnerability/model_data/vuln_adj.csv) provided in this repository.

- `vulnerability_adjustments: {
      "replace_data": {}
   }`

   through which the user replaces the data referring to a specific vulnerability, providing it in JSON format.
   For example:
    "vulnerability_adjustments": {"replace_data" :{"1": [[1,1,0.01],[1,2,0.02],...], "2": [[1,1,0.4],...]}
    
   This will replace the whole data relative to the specified vulnerabilities.
   Just as in the file version, the format is: vulnerability_id, intensity_bin_id, damage_bin_id, probability.


- `vulnerability_adjustments: {
      "adjustments": {}
   }`

   through which the user applies a factor adjustment to the random numbers extractor when calculating probabilities for the specified vulnerability.
   For example:
   "vulnerability_adjustments": {"adjustments" :{"2": 0.5 , "8": 1.5}

   The data in example will reduce the random numbers extracted for the vulnerability_id 2 (multiplying them for 0.5), effectively reducing the probability of them falling into the higher end of the damage_bins, and increase the numbers for the vulnerability_id 8 (multiplying them by 1.5), increasing the likelihood of it falling into a higher damage bin.